{% extends "base.html" %}
{% block title %}Chat Assistant{% endblock %}
{% block body_class %}page-chatbot{% endblock %}
{% block content %}
<div class="chat-container">
    <div class="chat-sidebar" id="chatSidebar">
        <div class="chat-sidebar-header">
            <h3>Sessions</h3>
            <button class="btn btn-primary btn-small" onclick="newSession()">+ New</button>
        </div>
        <div class="chat-session-list" id="sessionList">
            <p class="text-muted" style="padding:12px;">Loading...</p>
        </div>
    </div>
    <div class="chat-main">
        <div class="chat-messages" id="chatMessages">
            <div class="chat-welcome">
                <h2>Construction Management Assistant</h2>
                <p>Ask me anything â€” bid stats, win rates, job financials, time entries, code lookups, and more.</p>
                <p style="margin-top:8px;">Try: <strong>"how many bids?"</strong>, <strong>"win rate"</strong>, <strong>"profit for Sunrise Estates"</strong>, or type <strong>help</strong> for all commands.</p>
            </div>
        </div>
        <div class="chat-input-bar">
            <input type="text" id="chatInput" class="form-input" placeholder="Type a message..." onkeydown="if(event.key==='Enter')sendMessage()">
            <button class="btn btn-primary" onclick="sendMessage()">Send</button>
        </div>
    </div>
</div>
<script src="/static/chatbot.js"></script>
{% endblock %}
